# 智能健康助手 - 简洁版

## 🎯 项目特点

- ✅ **扣子对话功能**：使用扣子API进行智能健康咨询
- ✅ **讯飞语音合成**：语音播报回复内容（备用浏览器语音）
- ✅ **纯前端实现**：无需后端服务，部署简单

## 📁 项目结构

```
kouzi/
├── health-assistant-simple.html    # 简洁版健康助手页面
├── health-assistant-simple.js      # 核心功能实现
├── 使用说明.md                     # 本文档
└── 其他原有文件...
```

## 🚀 快速开始

### 1. 打开健康助手
访问：`http://localhost:8000/health-assistant-simple.html`

### 2. 配置信息
在页面顶部输入：
- **扣子Bot ID**：您的扣子机器人ID
- **扣子API Token**：您的扣子API密钥
- **讯飞应用ID**：讯飞语音应用ID（可选）
- **讯飞API Key**：讯飞API密钥（可选）

### 3. 开始使用
- 💬 **文字交流**：在输入框输入问题，点击发送
- 🎤 **语音输入**：按住麦克风按钮说话
- 🏷️ **快速问题**：点击预设问题标签

## ⚙️ 功能说明

### 扣子对话
- ✅ 使用扣子API进行智能健康咨询
- ✅ 支持上下文对话记忆
- ✅ 专业的健康建议和医疗知识
- ✅ 配置失败时使用本地备用回复

### 语音功能
- 🎤 **语音识别**：使用浏览器Web Speech API
- 🔊 **语音合成**：优先使用浏览器语音，支持讯飞扩展
- 🎯 **智能降级**：API不可用时自动使用备用方案

### 界面特点
- 📱 **响应式设计**：支持各种屏幕尺寸
- 🎨 **简洁美观**：现代化的界面设计
- ⚡ **快速响应**：轻量级实现，响应迅速

## 🔧 配置选项

### 必需配置
- **扣子Bot ID**：健康咨询的核心AI
- **扣子API Token**：API访问凭证

### 可选配置
- **讯飞应用ID**：更好的语音合成效果
- **讯飞API Key**：讯飞语音服务密钥

### 配置保存
- 所有配置自动保存到浏览器localStorage
- 下次访问时自动恢复配置

## 🎭 使用场景

### 健康咨询
- 🏥 常见症状的初步建议
- 💊 用药指导和注意事项
- 🥗 营养搭配和饮食建议
- 💪 运动健身计划制定
- 😴 睡眠质量改善方法

### 交互方式
- **文字输入**：详细描述症状和问题
- **语音交流**：便捷的语音问答
- **快速问题**：常见问题一键询问

## 🔍 故障排除

### 扣子API问题
- ❌ **CORS错误**：正常现象，已使用备用回复
- ❌ **API调用失败**：检查Bot ID和Token是否正确
- ❌ **无回复**：网络问题，会自动使用本地回复

### 语音功能问题
- ❌ **麦克风权限**：浏览器会请求权限，请允许
- ❌ **语音识别失败**：使用Chrome浏览器效果更好
- ❌ **语音播报无声**：检查系统音量和浏览器设置

### 界面问题
- ❌ **页面显示异常**：刷新页面或清除浏览器缓存
- ❌ **配置丢失**：检查浏览器是否允许localStorage

## 💡 技术实现

### 核心技术
- **原生JavaScript**：无框架依赖
- **CSS3**：现代化样式设计
- **Web APIs**：语音识别和合成
- **LocalStorage**：配置持久化

### API集成
- **扣子Chat API**：智能对话功能
- **Web Speech API**：浏览器语音功能
- **讯飞语音**：扩展语音合成（可选）

### 错误处理
- **网络异常**：自动降级到本地回复
- **API限制**：提供备用健康知识库
- **用户体验**：友好的错误提示

## 📈 优势对比

### vs 复杂版本
- ✅ **代码量减少70%**
- ✅ **不需要Node.js服务器**
- ✅ **无CORS跨域问题**
- ✅ **部署更简单**
- ✅ **维护成本低**

### vs 传统聊天机器人
- ✅ **专业健康知识**
- ✅ **语音交互支持**
- ✅ **本地化配置**
- ✅ **响应速度快**

## 🎯 使用建议

1. **首次使用**：先配置扣子信息，测试文字对话
2. **语音功能**：在安静环境下使用效果更好
3. **健康咨询**：详细描述症状，获得更准确建议
4. **定期更新**：定期检查和更新API配置

## 📞 技术支持

如遇问题：
1. 查看浏览器控制台错误信息
2. 检查网络连接和API配置
3. 尝试刷新页面和清除缓存
4. 使用Chrome浏览器获得最佳体验

---

**简洁、高效、实用的智能健康助手！** 🏥✨ 